@Service
public class ReservaService {
    
    @Autowired
    private ReservaRepository reservaRepository;

    public Reserva criarReserva(Reserva reserva) {
        boolean ocupado = reservaRepository.existsByEspacoAndDataEvento(
                reserva.getEspaco(), reserva.getDataEvento());

        if (ocupado) {
            throw new RuntimeException("Espaço já está reservado nessa data!");
        }

        return reservaRepository.save(reserva);
    }
}
